import{c as n,a as m,u as h,b as e,F as d,g as a,t as r,e as f,v as g,r as y,o as i,Z as b,f as k,h as v}from"./app-4167dba2.js";import{S as c}from"./sweetalert2.all-a5150b66.js";const _={class:"relative sm:flex sm:justify-center sm:items-center min-h-screen bg-dots-darker bg-center bg-gray-100 dark:bg-dots-lighter dark:bg-gray-900 selection:bg-red-500 selection:text-white"},x={key:0,class:"sm:fixed sm:top-0 sm:right-0 p-6 text-right"},w=["href"],p=["href"],C=["href"],B={class:"max-w-7xl mx-auto p-6 lg:p-8"},D={class:"flex"},S=["src"],V={class:"mt-2"},j={class:"grid blog-detail"},I={class:"blog-date"},L={class:"blog-publisher"},N={class:"comments"},A=e("h3",null,"Comments",-1),O={class:"commentsInsert"},R=e("br",null,null,-1),$={key:0,style:{"font-weight":300}},E={key:1,style:{"font-weight":300}},F=["onClick"],T={data(){return{comment:null}},methods:{commentInsert:function(){this.comment==null?c.fire({icon:"error",title:"Comment field left blank!",showConfirmButton:!1,timer:1500}):axios.post("/comment",{comment:this.comment,blog_id:this.article.id}).then(t=>{this.comments.unshift(t.data),c.fire({icon:"success",title:"Comments Added!",showConfirmButton:!1,timer:1500})})},deleteComment:function(t,o){axios.delete("/comment/"+t).then(l=>{this.comments.splice(o,1),c.fire({icon:"success",title:"Comments Deleted!",showConfirmButton:!1,timer:1500})}).catch(l=>function(){c.fire({icon:"error",title:l,showConfirmButton:!1,timer:1500})})}}},Z=Object.assign(T,{__name:"ArticleDetail",props:{article:Object,comments:Object,canLogin:{type:Boolean},canRegister:{type:Boolean}},setup(t){return(o,l)=>(i(),n(d,null,[m(h(b),{title:t.article.title},null,8,["title"]),e("div",_,[t.canLogin?(i(),n("div",x,[o.$page.props.auth.user?(i(),n("a",{key:0,href:o.route("dashboard"),class:"font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},"Dashboard ",8,w)):(i(),n(d,{key:1},[e("a",{href:o.route("login"),class:"font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},"Log in ",8,p),t.canRegister?(i(),n("a",{key:0,href:o.route("register"),class:"ml-4 font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},"Register ",8,C)):a("",!0)],64))])):a("",!0),e("div",B,[e("div",D,[e("img",{style:{width:"250px"},src:t.article.image,alt:""},null,8,S)]),e("div",V,[e("div",j,[e("h1",null,r(t.article.title),1),e("p",null,r(t.article.article),1),e("div",I,r(t.article.created_at),1),e("div",L,r(t.article.nameSurname),1),e("span",null,r(t.article.keywords),1)])]),e("div",N,[A,e("div",O,[f(e("textarea",{"onUpdate:modelValue":l[0]||(l[0]=s=>o.comment=s),"aria-label":"",name:"comment",id:"comment"},null,512),[[g,o.comment]]),R,e("button",{onClick:l[1]||(l[1]=s=>o.commentInsert()),class:"button"},"Insert")]),(i(!0),n(d,null,y(t.comments,(s,u)=>(i(),n("ul",{id:"commentul",key:s.id},[e("li",null,[e("h3",null,[k(r(s.user.name+" "+s.user.surname)+" ",1),s.user.auth_type==1?(i(),n("span",$,"Administrator")):a("",!0),s.user.auth_type==2?(i(),n("span",E,"Editor")):a("",!0)]),e("span",null,r(s.created_at),1),e("p",null,r(s.comment),1),e("div",{style:v([{cursor:"pointer"},{color:"red"}]),onClick:z=>o.deleteComment(s.id,u)}," Delete ",8,F)])]))),128))])])])],64))}});export{Z as default};
